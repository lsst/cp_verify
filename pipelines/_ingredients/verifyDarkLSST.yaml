description: cp_verify DARK calibration verification (LSST isr task)
tasks:
  verifyDarkIsr:
    class: lsst.ip.isr.IsrTaskLSST
    config:
      connections.ccdExposure: "raw"
      connections.outputExposure: "verifyDarkIsrExp"
      doDark: true
      expectWcs: false
      doDefect: true
      doBias: true
      doFlat: false
      doDiffNonLinearCorrection: false
      doBootstrap: false
      doDeferredCharge: false
      doLinearize: true
      doCorrectGains: false
      doApplyGains: true
      doVariance: true
      doSaturation: false
      doSuspect: false
      doCrosstalk: true
      crosstalk.doQuadraticCrosstalkCorrection: true
      doWidenSaturationTrails: false
      doInterpolate: false
      maskNegativeVariance: false
      doSetBadRegions: false
      doBrighterFatter: false
      isrStats.doCopyCalibDistributionStatistics: true
  verifyDarkDet:
    class: lsst.cp.verify.CpVerifyDarkTask
    config:
      connections.inputExp: "verifyDarkIsrExp"
      connections.outputStats: "verifyDarkDetStats"
      connections.outputResults: "verifyDarkDetResults"
      useIsrStatistics: true
  verifyDarkExp:
    class: lsst.cp.verify.CpVerifyExpMergeTask
    config:
      connections.inputStats: "verifyDarkDetStats"
      connections.inputResults: "verifyDarkDetResults"
      connections.outputStats: "verifyDarkExpStats"
      connections.outputResults: "verifyDarkExpResults"
      hasInputResults: true
      hasMatrixCatalog: false
  verifyDark:
    class: lsst.cp.verify.CpVerifyRunMergeTask
    config:
      connections.inputStats: "verifyDarkExpStats"
      connections.inputResults: "verifyDarkExpResults"
      connections.outputStats: "verifyDarkStats"
      connections.outputResults: "verifyDarkResults"
      hasInputResults: true
      hasMatrixCatalog: false
contracts:
  - verifyDarkDet.connections.inputExp == verifyDarkIsr.connections.outputExposure
  - verifyDarkExp.connections.inputStats == verifyDarkDet.connections.outputStats
  - verifyDarkExp.connections.inputResults == verifyDarkDet.connections.outputResults
  - verifyDark.connections.inputStats == verifyDarkExp.connections.outputStats
  - verifyDark.connections.inputResults == verifyDarkExp.connections.outputResults
